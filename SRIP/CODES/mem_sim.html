<!DOCTYPE html>
<html>
<head>
	<title>VM simulator</title>
	<link rel="stylesheet" type="text/css" href="LIBRARIES/grid_view1.css">
	<style type="text/css">
		#vm,#mm,#ppn,#vpn,#valid,#dirty{
			background-color: lightgray;
			width : 62px;
			height : 300px;
			overflow: scroll;
		}
		#explanation{
			background-color: lightblue;
			width : 100%;
			height : 335px;
			overflow: scroll;
		}
		#recent_history{
			background-color: lightblue;
			width : 300px;
			height : 400px;
			overflow: scroll;
		}
		.truncate_virtualmem{
			max-width:80%;
  			display:inline-block;
  			white-space:nowrap;
  			overflow:hidden;
  			text-overflow:ellipsis;
		}
		.truncate_mainmem{
			max-width:80%;
  			display:inline-block;
  			white-space:nowrap;
  			overflow:hidden;
  			text-overflow:ellipsis;
		}
		.truncate_pagesize{
			max-width:60%;
  			display:inline-block;
  			white-space:nowrap;
  			overflow:hidden;
  			text-overflow:ellipsis;
		}
		.truncate_replacementpolicy{
			max-width:80%;
  			display:inline-block;
  			white-space:nowrap;
  			overflow:hidden;
  			text-overflow:ellipsis;
		}
		.truncate_pagelevel{	
			max-width:800%;
  			display:inline-block;
  			white-space:nowrap;
  			overflow:hidden;
  			text-overflow:ellipsis;
		}
		input[type=text] {
		  width: 70%;
		}
		.one{
			display:grid;
			grid-template-columns: 20% 50% 30%;
			grid-gap: 10px;
			background-color: #2196F3;
			padding: 10px;
		}
		.two{
			display:grid;
			grid-template-rows: auto auto auto;
			grid-gap: 5px;
			background-color: #2196F3;
			padding: 5px;
		}
		.three_1{
			display:grid;
			grid-template-rows: auto auto auto auto;
			grid-gap: 5px;
			background-color: #f2f2f2;
			padding: 10px;
		}
		#s-2{
			grid-gap: 0px;
			padding: 0px;
			display: grid;
			grid-template-columns: 33% 33% 33%;
		}
		#s-1{
			grid-gap: 0px;
			padding: 0px;
			display: grid;
			grid-template-columns: 50% 50%;
		}
		#s-3{

			display: grid;
			grid-template-columns: auto auto auto;
  			grid-gap: 0px;
  			padding: 0px;
		}
		#s-4{

			display: grid;
			grid-template-columns: auto auto;
  			grid-gap: 0px;
  			padding: 0px;
		}
		.two_2{
			display: grid;
			grid-template-columns: 40% 40% 20%;
			grid-template-rows:auto auto auto;
 		 	grid-gap: 2px;
  			background-color:  rgba(255, 255, 255, 0.8);
			padding: 5px;
		}
		.item1{
			grid-column: 1;
  			grid-row: 1;
		}
		.item2{
			grid-column: 2;
  			grid-row: 1;
		}
		.item3{
			grid-column: 3;
  			grid-row: 1;
		}
		.item4{
			grid-column: 1/ span 3;
  			grid-row: 2;
		}
		.item5{
			grid-column: 1/span 3;
			grid-row: 3;
		}
		.three_2_2{

			display: grid;
			grid-template-columns: 13% 26% 20% 41%;
  			grid-gap: 10px;
  			background-color: white;
  			padding: 10px;
		}

	</style>
	<script>
		var pg,mm,vm,size,sz,ctr,mm_ctr,pg_hit,pg_miss;
		var rep_policy,pg_lvl;
		var mem_map = [];
		function get_parameters(){//sets the values selected by users to right hand field after submit button is clicked 
			var pg_size=document.getElementById("field_1").elements[0].value;
			var mm_size=document.getElementById("field_1").elements[1].value;
			var vm_size=document.getElementById("field_1").elements[2].value;
			var tlb=document.getElementById("field_1").elements[3].value;
			rep_policy=document.getElementById("field_1").elements[4].value;
			pg_lvl=document.getElementById("field_1").elements[5].value;
			pg=document.getElementById('pg_size');
		    pg.value = pg_size;
		    mm=document.getElementById('mm_size');
		    mm.value = mm_size;
		    vm=document.getElementById('vm_size');
		    vm.value = vm_size;
		    var rep=document.getElementById('rep_policy');
		    rep.value = rep_policy;
		    var pg_l=document.getElementById('pg_lvl');
		    pg_l.value = pg_lvl;
		    vm= parseInt(vm_size.slice(0,vm_size.length-3));
		    mm= parseInt(mm_size.slice(0,mm_size.length-3));
		    pg= parseInt(pg_size.slice(0,vm_size.length-3));
		    size=vm / pg;
		    add_vm(size);
		    add_vpn(size);
		    fill_array(size);
		    ctr = 0;
		    mem_ctr=0;
		    pg_hit = 0;
		    pg_miss = 0;
		}
		function map(){
		  var addr = document.getElementById("hex");
		  var x = addr.value;
		  x = parseInt(x,16);
		  var pg_size = pg*1024;
		  pg_size = pg_size.toString(2);
		  var len = pg_size.length-1;
		  var y = x.toString(2);
		  y = y.toString();
		  if (y.length<pg_size.length) {
          	for (var i = 0; i < (pg_size.length-y.length+2); i++) {
          			y = "0"+y;
          		 }
          	}
          var k = parseInt(y.slice(0,y.length-len)).toString();	// k-> denotes page number when generated hex address is broken into page number and offset
          var offset = parseInt(y.slice(y.length-len,y.length)).toString();
          offset = parseInt(offset,2);
          var m = document.getElementById('VPO');
          m.value= offset;				//check if it is right
          k= parseInt(k,2);
          m = document.getElementById('outer');
          m.value= "--**--";
          m = document.getElementById('inner');
          m.value= k;
         if(mem_ctr < sz)
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +"maps to PPG-" + mem_map[k][1];
				var temp1=x + " VPG-" + k + " PAGE HIT";
				pg_hit++;
				add_to_recent_history(temp1);
				add_to_explanation(temp);

          	}
          	else{
          		mem_map[k][1] = mem_ctr;
	          	mem_map[k][2] = 1;
	          	mem_map[k][3] = ctr;
	          	mem_map[k][4] = mem_ctr;
				var temp="$ PAGE FAULT, but our physical pages are empty, so VPG-"+ k +"is mapped to PPG-" + mem_ctr;
				add_to_explanation(temp);
				var temp1=x + "  VPG-" + k + "  PAGE FAULT";
				pg_miss++;
				add_to_recent_history(temp1);
				mem_ctr++; 
	          	ctr++;
          	}
          }
          else
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +" maps to PPG-" + mem_map[k][1];
				add_to_explanation(temp);
				var temp1=x + "  VPG-" + k + "  PAGE HIT";
				pg_hit++;
				add_to_recent_history(temp1);		
          	}
          	else 					    //page fault
          	{
          		var operation=document.getElementById("field_2").elements[0].value;
          		if(operation == "READ"){
          			var temp="$ It is page fault and page is not dirty so not required to copy it to disk ";
          		}
          		if(operation == "WRITE"){
          			var temp="$ It is page fault and page is dirty so copy it to disk before removing from physical memory, now it's done ";
          		}
          		var temp1= x + "  VPG-" + k + "  PAGE FAULT";
          		pg_miss++;
          		add_to_recent_history(temp1);
          		if(rep_policy == "FIFO"){FIFO(temp,k);}
          		if(rep_policy == "LIFO"){LIFO(temp,k);}
          		if(rep_policy == "LRU"){LRU(temp,k);}			//run function based on replacement policy
            }
          	
		  }
		  document.getElementById("count").innerHTML = "page miss = "+pg_miss+"\n"+" page hit = "+pg_hit;
		}
		
		function generate() { //function to generate hex value 
		  var z = vm*1024;
		  var pg_size = pg*1024;
		  pg_size = pg_size.toString(2);
		  var len = pg_size.length-1;	 
		  var x = Math.floor(Math.random()*z);
		  var y = x.toString(2);
		  y = y.toString();
		  x = x.toString(16);
		  var m = document.getElementById('hex');
		  m.value = x;
          if (y.length<pg_size.length) {
          	for (var i = 0; i < (pg_size.length-y.length+2); i++) {
          			y = "0"+y;
          		 }
          	}
          var k = parseInt(y.slice(0,y.length-len)).toString();	// k-> denotes page number when generated hex address is broken into page number and offset
          var offset = parseInt(y.slice(y.length-len,y.length)).toString();
          offset = parseInt(offset,2);
          m = document.getElementById('VPO');
          m.value= offset;				//check if it is right
          k= parseInt(k,2);
          m = document.getElementById('outer');
          m.value= "--**--";
          m = document.getElementById('inner');
          m.value= k;
          if(mem_ctr < sz)
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +"maps to PPG-" + mem_map[k][1];
				var temp1=x + " VPG-" + k + " PAGE HIT";
				pg_hit++;
				mem_map[k][3] = ctr;
				ctr++;
				add_to_recent_history(temp1);
				add_to_explanation(temp);

          	}
          	else{
          		mem_map[k][1] = mem_ctr;
	          	mem_map[k][2] = 1;
	          	mem_map[k][3] = ctr;
	          	mem_map[k][4] = mem_ctr;
				var temp="$ PAGE FAULT, but our physical pages are empty, so VPG-"+ k +"is mapped to PPG-" + mem_ctr;
				add_to_explanation(temp);
				var temp1=x + "  VPG-" + k + "  PAGE FAULT";
				pg_miss++;
				add_to_recent_history(temp1);
				mem_ctr++; 
	          	ctr++;
          	}
          }
          else
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +" maps to PPG-" + mem_map[k][1];
				add_to_explanation(temp);
				var temp1=x + "  VPG-" + k + "  PAGE HIT";
				pg_hit++;
				mem_map[k][3] = ctr;
				ctr++;
				add_to_recent_history(temp1);		
          	}
          	else 					    //page fault
          	{
          		var operation=document.getElementById("field_2").elements[0].value;
          		if(operation == "READ"){
          			var temp="$ It is page fault and page is not dirty so not required to copy it to disk ";
          		}
          		if(operation == "WRITE"){
          			var temp="$ It is page fault and page is dirty so copy it to disk before removing from physical memory, now it's done ";
          		}
          		var temp1= x + "  VPG-" + k + "  PAGE FAULT";
          		pg_miss++;
          		add_to_recent_history(temp1);
          		if(rep_policy == "FIFO"){FIFO(temp,k);}
          		if(rep_policy == "LIFO"){LIFO(temp,k);}
          		if(rep_policy == "LRU"){LRU(temp,k);}			//run function based on replacement policy
            }
          	
		  }
		  document.getElementById("count").innerHTML = "page miss = "+pg_miss+"\n"+" page hit = "+pg_hit;
		}
		function add_to_explanation(msg)
		{
			var exp = document.getElementById('explanation');
	        var para = document.createElement("P");
			var node = document.createTextNode(msg);
			para.appendChild(node);
			exp.appendChild(para);
		}
		function add_to_recent_history(msg)
		{
			var exp = document.getElementById('recent_history');
	        var para = document.createElement("P");
			var node = document.createTextNode(msg);
			para.appendChild(node);
			exp.appendChild(para);
		}
		function FIFO(msg,k)
		{
		    for(var i=0; i<size; i++)
		    {
		       	if((mem_map[i][2] == 1) && (mem_map[i][4]==0))
		       	{
		         	mem_map[k][1] = mem_map[i][1];
		          	mem_map[k][2] = 1;
		          	mem_map[k][3] = ctr;
		          	mem_map[k][4] = mem_ctr;
		          	mem_map[i][2] = 0;
		          	ctr++;
		          	msg = msg + " as our next victim page using selected FIFO REPLACEMENT POLICY VPG-" +i+" is replaced by VPG-" +k;			//need to work on dirty bit
		          	add_to_explanation(msg);
		          	for(var i=0; i<size; i++)
		          	{
		          		if(mem_map[i][2] == 1){mem_map[i][4]--;}
		          	}
		          	break;
		       	}
		    }
		}
		function LIFO(msg,k)
		{
		    for(var i=0; i<size; i++)
		    {
		       	if((mem_map[i][2] == 1) && (mem_map[i][4]==(sz-1)))
		       	{
		         	mem_map[k][1] = mem_map[i][1];
		          	mem_map[k][2] = 1;
		          	mem_map[k][3] = ctr;
		          	mem_map[k][4] = sz-1;			
		          	mem_map[i][2] = 0;
		          	msg = msg + ", as our next victim page using selected LIFO REPLACEMENT POLICY VPG-" +i+" is replaced by VPG-" +k;		
		          	add_to_explanation(msg);
		          	ctr++;
		          	alert(ctr);
		          	break;
		       	}
		    }
		}
		function LRU(msg,k)
		{
			alert("IN LRU");
			var min = ctr;
			var tgt;
		    for(var i=0; i<size; i++)
		    {
		       	if((mem_map[i][2] == 1) && (mem_map[i][3] <= ctr))
		       	{
		         	min = mem_map[i][3];
		         	tgt = i;
		       	}
		    }
		    mem_map[k][1] = mem_map[tgt][1];
		    mem_map[k][2] = 1;
		    mem_map[k][3] = ctr;
		    mem_map[k][4] = mem_ctr;
		    mem_map[tgt][2] = 0;
		    msg = msg + " as our next victim page using selected LRU REPLACEMENT POLICY VPG-" +i+" is replaced by VPG-" +k;			//need to work on dirty bit
		    add_to_explanation(msg);
		    ctr++;
		    for(var i=0; i<size; i++)
		    {
		       if(mem_map[i][2] == 1){mem_map[i][4]--;}
		    }
		}
		function fill_array(size){	//initalize 2d array with col_1->VPG col_2->PPG col_3->VALID BIT col_4->TIME col_5->entering sequence
			var rows = size;
			var cols = 5;
		    sz = mm/pg;
			for(var i=0; i < rows; i++)
			{
				mem_map.push([i]);
				for(var j=0; j<cols; j++)	
				{
					if(j!=0){mem_map[i][j]=-1;}
				}
			}
		}
		function map_page_no(){
		  var m = document.getElementById('dec');
		  var k = m.value;
		  k = parseInt(k,10);
		  m = document.getElementById('inner');
          m.value= k;
           m = document.getElementById('VPO');
          m.value= "--**--";			
          m = document.getElementById('outer');
          m.value= "--**--";
		  if(mem_ctr < sz)
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +"maps to PPG-" + mem_map[k][1];
				var temp1=" VPG-" + k + " PAGE HIT";
				pg_hit++;
				add_to_recent_history(temp1);
				add_to_explanation(temp);

          	}
          	else{
          		mem_map[k][1] = mem_ctr;
	          	mem_map[k][2] = 1;
	          	mem_map[k][3] = ctr;
	          	mem_map[k][4] = mem_ctr;
				var temp="$ PAGE FAULT, but our physical pages are empty, so VPG-"+ k +"is mapped to PPG-" + mem_ctr;
				add_to_explanation(temp);
				var temp1="  VPG-" + k + "  PAGE FAULT";
				pg_miss++;
				add_to_recent_history(temp1);
				mem_ctr++; 
	          	ctr++;
          	}
          }
          else
          {
          	
          	if(mem_map[k][2] == 1)		//page hit
          	{
				pg_hit++;
				var temp="$ It is page hit "+"VPG-"+ k +"maps to PPG-" + mem_map[k][1];
				add_to_explanation(temp);
				var temp1="  VPG-" + k + "  PAGE HIT";
				add_to_recent_history(temp1);		
          	}
          	else 					    //page fault
          	{
          		var temp="$ It is page fault ";
          		var temp1="  VPG-" + k + "  PAGE FAULT";
          		pg_miss++;
          		add_to_recent_history(temp1);
          		if(rep_policy == "FIFO"){FIFO(temp,k);}
          		if(rep_policy == "LIFO"){LIFO(temp,k);}
          		if(rep_policy == "LRU"){LRU(temp,k);}			//run function based on replacement policy
            }
          	
		  }
		  document.getElementById("count").innerHTML = "page miss = "+pg_miss+"\n"+" page hit = "+pg_hit;
		}
		function generate_page_no() {//function to generate page number
		  var z = vm/pg; 
		  var x = Math.floor(Math.random()*z);
		  var m = document.getElementById('dec');
		  m.value = x;
		  var k = x;
		  m = document.getElementById('inner');
          m.value= k;
		  if(mem_ctr < sz)
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +"maps to PPG-" + mem_map[k][1];
				var temp1=" VPG-" + k + " PAGE HIT";
				pg_hit++;
				add_to_recent_history(temp1);
				add_to_explanation(temp);

          	}
          	else{
          		mem_map[k][1] = mem_ctr;
	          	mem_map[k][2] = 1;
	          	mem_map[k][3] = ctr;
	          	mem_map[k][4] = mem_ctr;
				var temp="$ PAGE FAULT, but our physical pages are empty, so VPG-"+ k +"is mapped to PPG-" + mem_ctr;
				add_to_explanation(temp);
				var temp1=x + "  VPG-" + k + "  PAGE FAULT";
				pg_miss++;
				add_to_recent_history(temp1);
				mem_ctr++; 
	          	ctr++;
          	}
          }
          else
          {
          	if(mem_map[k][2] == 1)		//page hit
          	{
				var temp="$ It is page hit "+"VPG-"+ k +"maps to PPG-" + mem_map[k][1];
				add_to_explanation(temp);
				var temp1="  VPG-" + k + "  PAGE HIT";
				pg_hit++;
				add_to_recent_history(temp1);		
          	}
          	else 					    //page fault
          	{
          		var temp="$ It is page fault ";
          		var temp1= x + "  VPG-" + k + "  PAGE FAULT";
          		pg_miss++;
          		add_to_recent_history(temp1);
          		if(rep_policy == "FIFO"){FIFO(temp,k);}
          		if(rep_policy == "LIFO"){LIFO(temp,k);}
          		if(rep_policy == "LRU"){LRU(temp,k);}			//run function based on replacement policy
            }
          	
		  }
		  document.getElementById("count").innerHTML = "page miss = "+pg_miss+"\n"+" page hit = "+pg_hit;
		}
		
		function add_vm(size){
			var temp_string="VPG-";
			var vm_id= document.getElementById("vm");
			for (var i = 0; i <size ; i++) {
				var para = document.createElement("P");
				var temp=temp_string.concat((i).toString());
				var node = document.createTextNode(temp);
				para.appendChild(node);
				vm_id.appendChild(para);
			}
		}
		function add_vpn(size){
			var temp_string="PTE ";
			var vm_id= document.getElementById("vpn");
			for (var i = 0; i <size ; i++) {
				var para = document.createElement("P");
				var temp=temp_string.concat((i).toString());
				var node = document.createTextNode(temp);
				para.appendChild(node);
				vm_id.appendChild(para);
			}
		}
		function dynamicdropdown(listindex)
	    {
	        switch (listindex)
	        {
	        case "2 KB" :
	            document.getElementById("status mm_mem").options[0]=new Option("Select");
	            document.getElementById("status mm_mem").options[1]=new Option("2 KB");
	            document.getElementById("status mm_mem").options[2]=new Option("4 KB");
	            document.getElementById("status mm_mem").options[3]=new Option("6 KB");
	            document.getElementById("status mm_mem").options[4]=new Option("8 KB");
	            document.getElementById("status mm_mem").options[5]=new Option("10 KB");
	            document.getElementById("status mm_mem").options[6]=new Option("12 KB");
	            document.getElementById("status mm_mem").options[7]=new Option("14 KB");
	            document.getElementById("status mm_mem").options[8]=new Option("16 KB");
	            document.getElementById("status mm_mem").options[9]=new Option("18 KB");
	            document.getElementById("status mm_mem").options[10]=new Option("20 KB");
	            document.getElementById("status mm_mem").options[11]=new Option("22 KB");
	            document.getElementById("status mm_mem").options[12]=new Option("24 KB");
	            document.getElementById("status mm_mem").options[13]=new Option("26 KB");
	            document.getElementById("status mm_mem").options[14]=new Option("28 KB");
	            document.getElementById("status mm_mem").options[15]=new Option("30 KB");
	            document.getElementById("status mm_mem").options[16]=new Option("32 KB");
	            document.getElementById("status vm_mem").options[0]=new Option("Select");
	            document.getElementById("status vm_mem").options[1]=new Option("2 KB");
	            document.getElementById("status vm_mem").options[2]=new Option("4 KB");
	            document.getElementById("status vm_mem").options[3]=new Option("6 KB");
	            document.getElementById("status vm_mem").options[4]=new Option("8 KB");
	            document.getElementById("status vm_mem").options[5]=new Option("10 KB");
	            document.getElementById("status vm_mem").options[6]=new Option("12 KB");
	            document.getElementById("status vm_mem").options[7]=new Option("14 KB");
	            document.getElementById("status vm_mem").options[8]=new Option("16 KB");
	            document.getElementById("status vm_mem").options[9]=new Option("18 KB");
	            document.getElementById("status vm_mem").options[10]=new Option("20 KB");
	            document.getElementById("status vm_mem").options[11]=new Option("22 KB");
	            document.getElementById("status vm_mem").options[12]=new Option("24 KB");
	            document.getElementById("status vm_mem").options[13]=new Option("26 KB");
	            document.getElementById("status vm_mem").options[14]=new Option("28 KB");
	            document.getElementById("status vm_mem").options[15]=new Option("30 KB");
	            document.getElementById("status vm_mem").options[16]=new Option("32 KB");
	            break;
	        case "4 KB" :
	            document.getElementById("status mm_mem").options[0]=new Option("Select");
	            document.getElementById("status mm_mem").options[1]=new Option("4 KB");
	            document.getElementById("status mm_mem").options[2]=new Option("8 KB");
	            document.getElementById("status mm_mem").options[3]=new Option("12 KB");
	            document.getElementById("status mm_mem").options[4]=new Option("16 KB");
	            document.getElementById("status mm_mem").options[5]=new Option("20 KB");
	            document.getElementById("status mm_mem").options[6]=new Option("24 KB");
	            document.getElementById("status mm_mem").options[7]=new Option("28 KB");
	            document.getElementById("status mm_mem").options[8]=new Option("32 KB");
	            document.getElementById("status mm_mem").options[9]=new Option("36 KB");
	            document.getElementById("status mm_mem").options[10]=new Option("40 KB");
	            document.getElementById("status mm_mem").options[11]=new Option("44 KB");
	            document.getElementById("status mm_mem").options[12]=new Option("48 KB");
	            document.getElementById("status mm_mem").options[13]=new Option("52 KB");
	            document.getElementById("status mm_mem").options[14]=new Option("56 KB");
	            document.getElementById("status mm_mem").options[15]=new Option("60 KB");
	            document.getElementById("status mm_mem").options[16]=new Option("64 KB");
	            document.getElementById("status vm_mem").options[0]=new Option("Select");
	            document.getElementById("status vm_mem").options[1]=new Option("4 KB");
	            document.getElementById("status vm_mem").options[2]=new Option("8 KB");
	            document.getElementById("status vm_mem").options[3]=new Option("12 KB");
	            document.getElementById("status vm_mem").options[4]=new Option("16 KB");
	            document.getElementById("status vm_mem").options[5]=new Option("20 KB");
	            document.getElementById("status vm_mem").options[6]=new Option("24 KB");
	            document.getElementById("status vm_mem").options[7]=new Option("28 KB");
	            document.getElementById("status vm_mem").options[8]=new Option("32 KB");
	            document.getElementById("status vm_mem").options[9]=new Option("36 KB");
	            document.getElementById("status vm_mem").options[10]=new Option("40 KB");
	            document.getElementById("status vm_mem").options[11]=new Option("44 KB");
	            document.getElementById("status vm_mem").options[12]=new Option("48 KB");
	            document.getElementById("status vm_mem").options[13]=new Option("52 KB");
	            document.getElementById("status vm_mem").options[14]=new Option("56 KB");
	            document.getElementById("status vm_mem").options[15]=new Option("60 KB");
	            document.getElementById("status vm_mem").options[16]=new Option("64 KB");
	            break;
	        case "8 KB" :
	            document.getElementById("status mm_mem").options[0]=new Option("Select");
	            document.getElementById("status mm_mem").options[1]=new Option("8 KB");
	            document.getElementById("status mm_mem").options[2]=new Option("16 KB");
	            document.getElementById("status mm_mem").options[3]=new Option("24 KB");
	            document.getElementById("status mm_mem").options[4]=new Option("32 KB");
	            document.getElementById("status mm_mem").options[5]=new Option("40 KB");
	            document.getElementById("status mm_mem").options[6]=new Option("48 KB");
	            document.getElementById("status mm_mem").options[7]=new Option("56 KB");
	            document.getElementById("status mm_mem").options[8]=new Option("64 KB");
	            document.getElementById("status mm_mem").options[9]=new Option("72 KB");
	            document.getElementById("status mm_mem").options[10]=new Option("80 KB");
	            document.getElementById("status mm_mem").options[11]=new Option("88 KB");
	            document.getElementById("status mm_mem").options[12]=new Option("96 KB");
	            document.getElementById("status mm_mem").options[13]=new Option("104 KB");
	            document.getElementById("status mm_mem").options[14]=new Option("112 KB");
	            document.getElementById("status mm_mem").options[15]=new Option("120 KB");
	            document.getElementById("status mm_mem").options[16]=new Option("128 KB");
	            document.getElementById("status vm_mem").options[0]=new Option("Select");
	            document.getElementById("status vm_mem").options[1]=new Option("8 KB");
	            document.getElementById("status vm_mem").options[2]=new Option("16 KB");
	            document.getElementById("status vm_mem").options[3]=new Option("24 KB");
	            document.getElementById("status vm_mem").options[4]=new Option("32 KB");
	            document.getElementById("status vm_mem").options[5]=new Option("40 KB");
	            document.getElementById("status vm_mem").options[6]=new Option("48 KB");
	            document.getElementById("status vm_mem").options[7]=new Option("56 KB");
	            document.getElementById("status vm_mem").options[8]=new Option("64 KB");
	            document.getElementById("status vm_mem").options[9]=new Option("72 KB");
	            document.getElementById("status vm_mem").options[10]=new Option("80 KB");
	            document.getElementById("status vm_mem").options[11]=new Option("88 KB");
	            document.getElementById("status vm_mem").options[12]=new Option("96 KB");
	            document.getElementById("status vm_mem").options[13]=new Option("104 KB");
	            document.getElementById("status vm_mem").options[14]=new Option("112 KB");
	            document.getElementById("status vm_mem").options[15]=new Option("120 KB");
	            document.getElementById("status vm_mem").options[16]=new Option("128 KB");
	            break;
	        }
	        return true;
	    }
	</script>
</head>
<body>
	<div class="one">
		<form id="field_1">
			<div class="two">
				<div class="three_1">
					<table border="0"><caption>PARAMETERS</caption>
						<tr>
							<td>Page Size</td>
							<td>
								 <select id="source" name="source" onchange="javascript: dynamicdropdown(this.options[this.selectedIndex].value);">
								 	 <option value="select">select</option>
	 								 <option value="2 KB">2 KB</option>
	 								 <option value="4 KB">4 KB</option>
	 								 <option value="8 KB">8 KB</option>
	  							 </select> 
							</td>
						</tr>
						<tr>
							<td>Main Memory</td>
							<td>
								 <script type="text/javascript" language="JavaScript">
							       document.write('<select name="status mm_mem" id="status mm_mem"><option value="">Select status</option></select>')
							      </script>
							</td>
						</tr>
						<tr>
							<td>Virtual Memory</td>
							<td>
								 <script type="text/javascript" language="JavaScript">
							       document.write('<select name="status vm_mem" id="status vm_mem"><option value="">Select status</option></select>')
							      </script>
							</td>
						</tr>
						<tr>
							<td>TLB</td>
							<td>
								 <select>
	 								 <option value="Item 1">Item 1</option>
	 								 <option value="Item 2">Item 2</option>
	 								 <option value="Item 3">Item 3</option>
	 								 <option value="Item 4">Item 4</option>
	  							 </select> 
							</td>
						</tr>
					</table>
				</div>
				<div class="three_1"><caption>REPLACEMENT POLICY</caption><br>
					<select>
	 					<option value="FIFO">FIFO</option>
	 					<option value="LIFO">LIFO</option>
	 					<option value="LRU">LRU</option>
	  				</select> 
				</div>
				<div class="three_1"><caption>PAGE LEVEL</caption>
					<select>
	 				 <option value="LEVEL ONE">LEVEL ONE</option>
	 				 <option value="LEVEL TWO">LEVEL TWO</option>
	  			    </select> 	 
				</div>
				<div class="three_1">
					<input type="button" value="Submit" onclick="get_parameters()">
				</div>
			</div>
		</form>
		<div class="two_2">
			<div class="three_2 item1">
				<table width=10%>
					<tr>
						<td><button type="button" onclick="generate()">GENERATE</button></td>
						<td><input type="text" name="Virtual address" value="virtual address" id="hex"></td>
						<td><button type="button" onclick="map()">map</button></td>
					</tr>
					<tr>
						<td></td>
						<td>
							<form id="field_2">
								<select>
				 				 <option value="READ">READ</option>
				 				 <option value="WRITE">WRITE</option>
				  			    </select> 
							</form>
						</td>
						<td></td>
					</tr>
					<tr>
						<td><button type="button" onclick="generate_page_no()">GENERATE</button></td>
						<td><input type="text" name="Page number" value="Page number" id="dec"></td>
						<td><button type="button" onclick="map_page_no()">map</button></td>
					</tr>
				</table>
			</div>
			<div class="three_2 item2">
				<table>
					<tr>
						<td><button type="button">OUTER</button></td>
						<td><button type="button">INNER</button></td>
						<td><button type="button">VPO</button></td>
					</tr>
					<tr>
						<td><input type="text" name="Page number" class="truncate" id="outer"></td>
						<td><input type="text" name="Page number" class="truncate" id="inner"></td>
						<td><input type="text" name="Page number" class="truncate" id="VPO"></td>
					</tr>
				</table>
			</div>
			<div class="three_2 item3">
				<button type="button" value="RESTART" onclick="window.location.href='file:///home/ganesh/Desktop/githubproj/computer-organization-iiith/SRIP/CODES/mem_sim.html'">RESTART</button>
				<div id="count">page miss = 0 page hit = 0</div>
			</div>
			 <div class="three_2 item4">
			 	<button type="button">BASIC</button>
			 	<!--<button type="button">UNDER THE HOOD</button><br>-->
			 </div>
			 <div class="three_2_2 item5">
			 	<div class="four">
			 		<button type="button" class="truncate_virtualmem">Virtual Memory</button><br>
			 		<div id="vm"></div>
			 	</div>
			 	<div class="four">
			 		<div id="s-1">
			 			<div>
			 				<button type="button" class="truncate_mainmem">Main Memory</button>
				 			<div id="mm"></div>
			 			</div>
				 		<div>
				 			<button type="button" class="truncate">Dirty</button><br>
				 			<div id="dirty"></div>
				 		</div>
			 		</div>
			 	</div>
			 	<div class="four">
			 		<div id="explanation">EXPLANATION<br>---------------------</div>
			 	</div>
			 	<div>
			 		<div id="s-2">
			 			<div>
			 				<button type="button" class="truncate">VPN</button>
			 				<div id="vpn"></div>
			 			</div>
			 			<div>
			 				<button type="button" class="truncate">PPN</button>
			 				<div id="ppn"></div>
			 			</div>
			 			<div>
			 				<button type="button" class="truncate">Valid</button><br>
			 				<div id="valid"></div></div>
			 			</div>
			 	</div>

			 </div>
		</div>
		<div class="two_3">
			<div class="three_3" id="s-3">
				<div>
					<button type="button" class="truncate_virtualmem">Virtual memory</button><br>
					<input type="text" id="vm_size">
				</div>
				<div>
					<button type="button" class="truncate_mainmem">Main Memory</button><br>
					<input type="text" id="mm_size">
				</div>
				<div>
					<button type="button" class="truncate_pagesize">page size</button><br>
					<input type="text" id="pg_size">
				</div>
			</div>
			<div class="three_3" id="s-4">
				<div>
					<button type="button" class="truncate_replacementpolicy">replacement policy</button><br>
					<input type="text" id="rep_policy">
				</div>
				<div>
					<button type="button" class="truncate_pagelevel">page level</button><br>
		 			<input type="text" id="pg_lvl">
				</div>
			</div>
			<div class="three_3">
				<div id="recent_history">RECENT HISTORY<br>------------------------------------</div>
			</div>
		</div>

	</div>
</body>
</html>